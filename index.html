<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdnjs.cloudflare.com https://rawgit.com https://code.getmdl.io; style-src 'self' https://fonts.googleapis.com https://code.getmdl.io 'unsafe-inline'; font-src https://fonts.gstatic.com; img-src 'self' data:;">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Permissions-Policy" content="clipboard-write=*">
    <meta name="description" content="Buy BGMI UC at best prices. Official UC store for Battlegrounds Mobile India.">
    <title>BGMI UC Store - Buy UC at Best Price</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rajdhani:400,500,600,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <canvas id="bg-canvas" aria-hidden="true"></canvas>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <div class="logo-container">
                    <div class="logo-3d" aria-label="BGMI">BGMI</div>
                    <span class="mdl-layout-title">UC Store</span>
                </div>
                <div class="mdl-layout-spacer"></div>
                <nav class="mdl-navigation">
                    <a href="https://t.me/+uM6DXbWPPxYxMjY1" target="_blank" rel="noopener noreferrer" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent support-btn">
                        <i class="material-icons" aria-hidden="true">support_agent</i>
                        <span>Support</span>
                    </a>
                    <button id="menu-button" class="mdl-button mdl-js-button mdl-button--icon">
                        <i class="material-icons">more_vert</i>
                    </button>
                    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="menu-button">
                        <li class="mdl-menu__item" id="admin-login">Admin Login</li>
                    </ul>
                </nav>
            </div>
        </header>

        <main class="mdl-layout__content">
            <div class="page-content">
                <!-- Hero Section -->
                <section class="hero-section">
                    <div class="hero-content">
                        <h1 class="glitch-text">BGMI UC Store</h1>
                        <p class="cyber-subtitle">Get Your UC Instantly</p>
                    </div>
                </section>

                <!-- UC Packs Section -->
                <section class="uc-packs">
                    <template id="uc-pack-template">
                        <div class="mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet">
                            <div class="uc-pack-card mdl-card mdl-shadow--2dp">
                                <div class="mdl-card__title">
                                    <h2 class="mdl-card__title-text">
                                        <span class="uc-amount"></span>
                                        <span class="bonus-uc"></span>
                                    </h2>
                                </div>
                                <div class="mdl-card__supporting-text">
                                    <div class="pack-price">₹<span class="price-amount"></span></div>
                                </div>
                                <div class="mdl-card__actions mdl-card--border">
                                    <button class="buy-now-btn mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">
                                        <i class="material-icons">shopping_cart</i>
                                        Buy Now
                                    </button>
                                </div>
                            </div>
                        </div>
                    </template>
                    <div class="mdl-grid" id="packs-container">
                        <!-- 1060 UC Pack -->
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="uc-pack">
                                <div class="uc-amount">1060 UC</div>
                                <div class="price">₹279</div>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect buy-now-btn"
                                    data-amount="1060"
                                    data-bonus="0"
                                    data-price="279">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- 2000 + 25 UC Pack -->
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="uc-pack">
                                <div class="uc-amount">2000 UC</div>
                                <div class="bonus-uc">+25 Bonus UC</div>
                                <div class="price">₹399</div>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect buy-now-btn"
                                    data-amount="2000"
                                    data-bonus="25"
                                    data-price="399">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- 3600 + 60 UC Pack -->
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="uc-pack">
                                <div class="uc-amount">3600 UC</div>
                                <div class="bonus-uc">+60 Bonus UC</div>
                                <div class="price">₹799</div>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect buy-now-btn"
                                    data-amount="3600"
                                    data-bonus="60"
                                    data-price="799">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- 6500 + 300 UC Pack -->
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="uc-pack">
                                <div class="uc-amount">6500 UC</div>
                                <div class="bonus-uc">+300 Bonus UC</div>
                                <div class="price">₹1999</div>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect buy-now-btn"
                                    data-amount="6500"
                                    data-bonus="300"
                                    data-price="1999">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- 10000 + 850 UC Pack -->
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="uc-pack">
                                <div class="uc-amount">10000 UC</div>
                                <div class="bonus-uc">+850 Bonus UC</div>
                                <div class="price">₹3999</div>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect buy-now-btn"
                                    data-amount="10000"
                                    data-bonus="850"
                                    data-price="3999">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- 18000 + 2000 UC Pack -->
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="uc-pack">
                                <div class="uc-amount">18000 UC</div>
                                <div class="bonus-uc">+2000 Bonus UC</div>
                                <div class="price">₹5999</div>
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect buy-now-btn"
                                    data-amount="18000"
                                    data-bonus="2000"
                                    data-price="5999">
                                    Buy Now
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- User Details Dialog -->
                <dialog class="mdl-dialog user-details-dialog" id="user-details-dialog">
                    <h4 class="mdl-dialog__title">Enter Your Details</h4>
                    <div class="mdl-dialog__content">
                        <!-- Selected Pack Info -->
                        <div class="selected-pack-info">
                            <h5>Selected Pack</h5>
                            <div class="pack-details">
                                <div class="detail-item">
                                    <span>UC Amount:</span>
                                    <span><span id="details-uc-amount">-</span> UC</span>
                                </div>
                                <div class="detail-item" id="details-bonus-uc-container">
                                    <span>Bonus UC:</span>
                                    <span>+<span id="details-bonus-uc">-</span> UC</span>
                                </div>
                                <div class="detail-item total">
                                    <span>Price:</span>
                                    <span>₹<span id="details-price">-</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- User Details Form -->
                        <form id="user-details-form">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" id="player-name" required>
                                <label class="mdl-textfield__label" for="player-name">Player Name</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" id="bgmi-id" pattern="[0-9]+" required>
                                <label class="mdl-textfield__label" for="bgmi-id">BGMI ID</label>
                                <span class="mdl-textfield__error">Numbers only</span>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" id="whatsapp" pattern="[0-9]+" required>
                                <label class="mdl-textfield__label" for="whatsapp">WhatsApp Number</label>
                                <span class="mdl-textfield__error">Numbers only</span>
                            </div>
                        </form>
                    </div>
                    <div class="mdl-dialog__actions">
                        <button type="button" class="mdl-button close">Cancel</button>
                        <button type="button" class="mdl-button proceed-payment mdl-button--raised mdl-button--colored">
                            <i class="material-icons">payment</i>
                            Proceed to Payment
                        </button>
                    </div>
                </dialog>

                <!-- Payment Dialog -->
                <dialog class="mdl-dialog payment-dialog" id="payment-dialog">
                    <h4 class="mdl-dialog__title">Complete Payment</h4>
                    <div class="mdl-dialog__content">
                        <!-- Order Summary -->
                        <div class="order-summary">
                            <h5>Order Summary</h5>
                            <div class="summary-details">
                                <div class="detail-item">
                                    <span>UC Amount:</span>
                                    <span><span id="payment-uc-amount">-</span> UC</span>
                                </div>
                                <div class="detail-item" id="payment-bonus-uc-container">
                                    <span>Bonus UC:</span>
                                    <span>+<span id="payment-bonus-uc">-</span> UC</span>
                                </div>
                                <div class="detail-item">
                                    <span>Total Amount:</span>
                                    <span>₹<span id="payment-price">-</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Section -->
                        <div class="payment-section">
                            <h5>UPI Payment</h5>
                            <div class="qr-container">
                                <img id="upi-qr" alt="UPI QR Code" class="payment-qr">
                            </div>
                            <div class="upi-details">
                                <span>UPI ID: <span id="upi-id">ravan.op@freecharge</span></span>
                                <button onclick="copyUpiId()" class="mdl-button mdl-js-button mdl-button--icon mdl-button--colored">
                                    <i class="material-icons">content_copy</i>
                                </button>
                            </div>
                            <div class="payment-steps">
                                <h6>How to Pay:</h6>
                                <ol>
                                    <li>Open any UPI app (PhonePe, Google Pay, Paytm, etc.)</li>
                                    <li>Scan this QR code or use the UPI ID above</li>
                                    <li>Enter the exact amount: ₹<span id="payment-amount">-</span></li>
                                    <li>Complete the payment</li>
                                    <li>Contact us on Telegram for quick activation</li>
                                </ol>
                            </div>
                        </div>

                        <!-- Payment Instructions -->
                        <div class="payment-instructions">
                            <h5>Payment Instructions</h5>
                            <div class="instructions-container">
                                <div id="payment-instructions" class="instructions-text"></div>
                            </div>
                        </div>

                        <!-- UTR Submission Section -->
                        <div class="utr-section">
                            <h5>Submit Payment Confirmation</h5>
                            <div class="utr-form">
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="text" id="utr-number" pattern="[a-zA-Z0-9]+" required>
                                    <label class="mdl-textfield__label" for="utr-number">UTR Number (UPI Reference Number)</label>
                                    <span class="mdl-textfield__error">Please enter a valid UTR number</span>
                                </div>
                                <button id="submit-utr" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
                                    <i class="material-icons">check_circle</i>
                                    Submit Payment
                                </button>
                            </div>
                            <p class="utr-help">
                                <i class="material-icons">help_outline</i>
                                The UTR (Unique Transaction Reference) number is provided by your UPI app after payment. Check payment history in your UPI app.
                            </p>
                        </div>

                        <!-- Support Section -->
                        <div class="support-section">
                            <p id="support-message"></p>
                            <a href="https://t.me/+uM6DXbWPPxYxMjY1" target="_blank" rel="noopener noreferrer" 
                               class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect telegram-button">
                                <i class="material-icons">support_agent</i>
                                Contact Support
                            </a>
                        </div>
                    </div>
                    <div class="mdl-dialog__actions">
                        <button type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect close-dialog">Close</button>
                    </div>
                </dialog>

                <!-- Order History Dialog -->
                <dialog class="mdl-dialog order-history-dialog" id="order-history-dialog">
                    <h4 class="mdl-dialog__title">Order History</h4>
                    <div class="mdl-dialog__content">
                        <div class="orders-list">
                            <table class="mdl-data-table mdl-js-data-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Date</th>
                                        <th>UC Amount</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="orders-table-body">
                                    <!-- Orders will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </dialog>

                <!-- Admin Login Dialog -->
                <dialog class="mdl-dialog admin-login-dialog" id="admin-login-dialog">
                    <h4 class="mdl-dialog__title">Admin Login</h4>
                    <div class="mdl-dialog__content">
                        <form id="admin-login-form" onsubmit="return handleAdminLogin(event)">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="email" id="admin-username" required>
                                <label class="mdl-textfield__label" for="admin-username">Email</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="password" id="admin-password" required>
                                <label class="mdl-textfield__label" for="admin-password">Password</label>
                            </div>
                            <div class="error-message" id="login-error"></div>
                            <div class="mdl-dialog__actions">
                                <button type="submit" class="mdl-button mdl-button--raised mdl-button--colored" id="admin-login-btn">Login</button>
                                <button type="button" class="mdl-button close-dialog" onclick="closeAdminDialog()">Cancel</button>
                            </div>
                        </form>
                    </div>
                </dialog>

                <!-- Floating Action Button -->
                <button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored fab-orders" id="show-orders">
                    <i class="material-icons">history</i>
                </button>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://code.getmdl.io/1.3.0/material.min.js" defer></script>
    <script src="three-background.js" defer></script>
    <script>
        // Initialize all MDL components
        document.addEventListener('DOMContentLoaded', () => {
            componentHandler.upgradeDom();
            
            // Admin Login Setup
            const adminLoginItem = document.getElementById('admin-login');
            const adminLoginDialog = document.getElementById('admin-login-dialog');
            const adminLoginForm = document.getElementById('admin-login-form');
            const loginError = document.getElementById('login-error');

            if (!adminLoginDialog.showModal) {
                dialogPolyfill.registerDialog(adminLoginDialog);
            }

            adminLoginItem.addEventListener('click', () => {
                adminLoginDialog.showModal();
                adminLoginForm.reset();
                loginError.textContent = '';
                componentHandler.upgradeDom();
            });

            // Payment Dialog Setup
            const paymentDialog = document.querySelector('.payment-dialog');
            if (!paymentDialog.showModal) {
                dialogPolyfill.registerDialog(paymentDialog);
            }

            // Buy Now Button Setup
            document.querySelectorAll('.buy-now-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    const amount = button.getAttribute('data-amount');
                    const bonus = button.getAttribute('data-bonus');
                    const price = button.getAttribute('data-price');
                    
                    document.getElementById('payment-uc-amount').textContent = amount + ' UC';
                    document.getElementById('payment-bonus-uc').textContent = bonus ? `+${bonus} UC` : '0 UC';
                    document.getElementById('payment-price').textContent = price;

                    // Update UPI payment links with amount
                    const upiLink = document.querySelector('.upi-btn');
                    
                    upiLink.href = `upi://pay?pa=emogaming003@okicici&pn=EMO%20Gaming&am=${price}&cu=INR`;
                    
                    paymentDialog.showModal();
                });
            });

            // Close Dialog Buttons
            document.querySelectorAll('.close-dialog').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    const dialog = button.closest('dialog');
                    if (dialog) {
                        dialog.close();
                    }
                });
            });
        });

        function handleAdminLogin(event) {
            event.preventDefault();
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            const loginError = document.getElementById('login-error');

            if (username === 'emogaming003@gmail.com' && password === 'emo@0003') {
                window.location.href = 'admin.html';
            } else {
                loginError.textContent = 'Invalid email or password';
            }
            return false;
        }

        function closeAdminDialog() {
            const adminLoginDialog = document.getElementById('admin-login-dialog');
            if (adminLoginDialog) {
                adminLoginDialog.close();
            }
        }

        function copyUpiId() {
            const upiIdElement = document.getElementById('upi-id');
            navigator.clipboard.writeText(upiIdElement.textContent).then(() => {
                showSnackbar('UPI ID copied to clipboard');
            }).catch(() => {
                showSnackbar('Failed to copy UPI ID');
            });
        }

        function showSnackbar(message) {
            // Remove any existing snackbar
            const existingSnackbar = document.querySelector('.snackbar');
            if (existingSnackbar) {
                existingSnackbar.remove();
            }

            const snackbar = document.createElement('div');
            snackbar.className = 'snackbar';
            snackbar.textContent = message;
            document.body.appendChild(snackbar);
            
            // Trigger animation
            requestAnimationFrame(() => {
                snackbar.classList.add('show');
            });

            // Remove after 3 seconds
            setTimeout(() => {
                snackbar.classList.remove('show');
                setTimeout(() => {
                    snackbar.remove();
                }, 300);
            }, 3000);
        }
    </script>
    <script src="main.js" defer></script>
</body>
</html>
